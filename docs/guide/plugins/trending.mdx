---
description: 查询热搜
tags:
- {label: 有状态文件, permalink: has-state}
- {label: 使用第三方服务, permalink: third-party-service}
---
import Command from "@site/src/components/Command";
import Example, { Send, Recv } from "@site/src/components/Example";

# trending
查询热搜

## 用户说明
目前支持百度、央视、微博、知乎、哔哩哔哩这 5 个来源，可以发送不带参数的 `/热搜` 来查看所有来源以及它们的触发关键词。（名称本身也是可以触发的，比如 `/热搜 哔哩哔哩` 和 `/热搜 b站` 都可以查看哔哩哔哩热搜）

<Example>
  <Send>/热搜</Send>
  <Recv>
{`支持的来源：
百度（baidu）
央视（cctv）
微博（weibo）
知乎（zhihu）
哔哩哔哩（哔哩、b站、bilibili、bili）`}
  </Recv>
</Example>

发送 `/热搜 <来源>` 查看当前来源的热搜列表，列表会有一段时间的缓存（默认为 10 分钟）。

<Example>
  <Send>/热搜 哔哩哔哩</Send>
  <Recv>
{`现在的哔哩哔哩热搜有：
1: 羊村（1）
2: 中国队为什么不参加世界杯
3: 阿嚏
4: 领导想不起来的那些事，你真的要提醒他。
5: 3人23道菜，吃跑了唐老师！
6: 疯狂社死！ 第一次带女朋友回家过夜，妈妈外婆要求睡一起...
7: 宁波.宁海食府  厨子探店¥？？
8: 还原《满汉全席》鬼脚七的脆皮干炒牛河！猝不及防的翻车！
9: 看海贼的和看火影的都沉默了......
10: 害怕！我被封号了！
第 1 页，共 58 页 580 条`}
  </Recv>
</Example>

注意页码前面要加 `p`，而项目前面不能加 `p`，比如 `/热搜 哔哩哔哩 p2` 是查看哔哩哔哩热搜**第二页**，而 `/热搜 哔哩哔哩 2` 是查看哔哩哔哩热搜**第二项**。

<Example>
  <Send>/热搜 哔哩哔哩 p2</Send>
  <Recv>
{`现在的哔哩哔哩热搜有：
11: 守望先锋3震撼归来
12: 退钱哥到达卡塔尔世界杯大游轮！
13: 【没啥用科技】全新UPhone14，震撼发布！
14: 红蓝铅原声手绘动漫人物全过程
15: 十几年前火遍全国的“网络神曲”，当年觉得是“垃圾”。现在网友表示：全是回忆啊！！
16: 【4K】这就是我们如此热爱世界杯的原因
17: 蚌埠住了...哪个鬼才教你这么二创的？！
18: 闺蜜谈了帅哥我后牙槽都咬碎了
19: 地摊大爷你是懂演戏的！
20: 这个游戏出现在21世纪还是太早了！
第 2 页，共 58 页 580 条`}
  </Recv>
  <Send>/热搜 哔哩哔哩 13</Send>
  <Recv>

[![热搜例图](/example/trending.png)](https://b23.tv/BV1te4y1p7Gv)

  </Recv>
</Example>

<Command name={["热搜", "trending"]} brief="看看大家又在撕什么（bushi）" perm="trending">{`\
/热搜 - 查看支持的来源
/热搜 <来源> - 查看热搜第一页
/热搜 <来源> p<页码> - 查看热搜某一页
/热搜 <来源> <ID> - 查看某一条热搜
`}</Command>

## 搭建说明
你可以在配置文件中调整缓存时间和单页条目数。

`configs/trending.yaml`
```yaml
cache: 600 # 缓存时间，单位为秒，默认为 10 分钟
page_size: 10 # 单页条目数，默认为 10
```

状态文件仅用于缓存热搜列表，减少请求数，参考如下：
:::caution
你通常不应该修改状态文件，除非别无选择。
:::
`states/daily.yaml`
```yaml
cache:
  哔哩哔哩: # 是的，这里是中文
    time: 1668936753.185645 # 上次更新的时间戳
    items: # 条目
    - content: "..." # 简介
      image: "https://..." # 图片
      title: "..." # 标题
      url: "https://..." # 链接
```
